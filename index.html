<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TreeTrav.bin</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%236C5CE7' d='M12 2L8 6h8L12 2zM7 8v4h2V8H7zm8 0v4h2V8h-2zm-9 6v4h4v-4H6zm8 0v4h4v-4h-4z'/></svg>" type="image/svg+xml">
</head>
<body data-theme="light">
    <div class="container">
        <header>
            <div class="header-content">
                <h1>Binary Tree Traversal</h1>
            </div>
        </header>
        
        <div class="main-content">
            <div class="visualization">
                <canvas id="treeCanvas"></canvas>
                <div class="controls">
                    <div class="input-group">
                        <label for="levels">Enter number of levels (1-5):</label>
                        <input type="number" id="levels" min="1" max="5" value="3">
                    </div>
                    <div class="button-group">
                        <button id="generateBtn" class="btn">Generate Tree</button>
                        <button id="randomBtn" class="btn">Random Tree</button>
                    </div>
                </div>
            </div>

            <div class="results">
                <h2>Traversal Results</h2>
                <div class="traversal-container">
                <div class="traversal-box">
                    <h3>Post-Order (LRT: Left Root Top)</h3>
                    <div id="postOrder" class="traversal-result"></div>
                </div>
                <div class="traversal-box">
                    <h3>Pre-Order (TLR: Top Left Right)</h3>
                    <div id="preOrder" class="traversal-result"></div>
                </div>
                <div class="traversal-box">
                    <h3>In-Order (LTR: Left Right Top)</h3>
                    <div id="inOrder" class="traversal-result"></div>
                </div>
            </div>
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path class="sun" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
                    <path class="moon" d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
                </svg>
            </button>
        </div>
    </div>
    <script src="script.js"></script>
    <script>
        // Theme handling
        const themeToggle = document.getElementById('theme-toggle');
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');

        function updateTheme(isDark) {
            document.body.setAttribute('data-theme', isDark ? 'dark' : 'light');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // Initialize theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            updateTheme(savedTheme === 'dark');
        } else {
            updateTheme(prefersDarkScheme.matches);
        }

        // Theme toggle button
        themeToggle.addEventListener('click', () => {
            const isDark = document.body.getAttribute('data-theme') === 'light';
            updateTheme(isDark);
        });

        // Listen for system theme changes
        prefersDarkScheme.addListener((e) => {
            if (!localStorage.getItem('theme')) {
                updateTheme(e.matches);
            }
        });
    </script>
</body>
</html>
